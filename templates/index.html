<main class="col-md-8">
    {% if posts %}
        {% for post in posts %}
        <article class="glass post-card mb-4" style="display: flex; flex-direction: column;">
            
            {% if post[4] %}
            <div style="width: 100%; max-height: 350px; overflow: hidden; border-radius: 12px 12px 0 0;">
                <img src="{{ post[4] }}" style="width: 100%; height: 100%; object-fit: cover;" alt="Capa do post">
            </div>
            {% endif %}

            <div class="p-4">
                <h2 class="h3 text-info" style="margin-top: 0;">{{ post[1] }}</h2>
                <p class="small text-white-50"><i class="far fa-calendar-alt"></i> {{ post[3] }}</p>
                
                <div class="mb-3" style="color: #eee; line-height: 1.6;">
                    {# Removemos tags HTML do resumo para n√£o quebrar o layout #}
                    {{ post[2] | striptags | truncate(250) }}
                </div>
                
                <a href="{{ url_for('exibir_post', post_id=post[0]) }}" class="btn-abrir">
                    Continuar Lendo <i class="fas fa-arrow-right ms-1"></i>
                </a>
            </div>
        </article>
        {% endfor %}
    {% else %}
        <div class="glass p-5 text-center">
            <h3>Nenhum post encontrado.</h3>
        </div>
    {% endif %}
</main>